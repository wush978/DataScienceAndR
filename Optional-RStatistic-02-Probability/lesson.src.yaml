- Class: meta
  Course: DataScienceAndR
  Lesson: Optional-RStatistic-02-Probability
  Author: Wush Wu
  Type: Standard
  Organization: Taiwan R User Group
  Version: 2.3.1.2

- Class: text
  Output: 這門課程，我們會介紹R 做機率相關計算的功能

- Class: cmd_question
  Output: |
    R 內建有列出所有組合可能的功能，請同學輸入：`?combn`查詢該
    功能的說明

- Class: text
  Output: |
    請同學先閱讀Arguments中對於`x`與`m`的解釋。

- Class: cmd_question
  Output: |
    假設母體共有四個人，記做：{A, B, C, D}。我們以取後不放回的方式
    隨機挑選兩個人。請問這個動作的樣本空間是？請嘗試用`combn`作答。
    其中一個參數應放`c("A", "B", "C", "D")`，另一個放`2`
  CorrectAnswer: combn(c("A", "B", "C", "D"), 2)
  AnswerTests: omnitest('combn(c("A", "B", "C", "D"), 2)')

- Class: cmd_question
  Output: |
    `population.Kinmen`是一個整數向量，每一個元素代表一名金門縣縣民
    的年齡。請問同學，金門縣一共有多少人？
  CorrectAnswer: length(population.Kinmen)
  AnswerTests: omnitest(correctVal = length(population.Kinmen))

- Class: cmd_question
  Output: |
    R 內建`sample`函數讓我們從向量中隨機抽出向量的元素。
    請輸入`?sample`檢查該函數的說明。我們可以利用該函數從`population.Kinmen`
    中抽出大小為20的樣本。
  CorrectAnswer: ?sample

- Class: text
  Output: |
    `sample`的參數`x`表示母體、`size`代表樣本大小、`replace`為`TRUE`
    表示抽樣是取後放回。最後的`prob`讓使用者可以調整每個元素被抽到的機率。

- Class: cmd_question
  Output: |
    請同學輸入：`x <- sample(population.Kinmen, 20)`抽出20名金門縣縣民的樣本，
    並把結果存到變數x。

- Class: cmd_question
  Output: |
    請計算樣本平均數
  CorrectAnswer: mean(x)

- Class: text
  Output: |
    我們暫且稱上一題取得的樣本平均數，所代表的隨機變數為X
    如果要以大數法則來估計X的性質，首先我們要能產生大量的X的樣本

- Class: script
  Output: |
    請同學依照註解上的指示建立10000個X的樣本
  Script: rstatistics-04-02-01.R
  AnswerTests: rstatistics_04_02_01()

- Class: cmd_question
  Output: 請同學用`table`和`max`計算出，投影片的練習四之二的問題
  CorrectAnswer: max(table(X.sample)) / length(X.sample)
  AnswerTests: omnitest(correctVal = max(table(X.sample)) / length(X.sample))

- Class: text
  Output: |
    以下的問題對應到投影片的練習四之三

- Class: cmd_question
  Output: |
    我們已經將全金門縣縣民的年齡平均數存到變數`mu`了。
    請同學用`X.sample`來估計X.sample與mu的距離小於4.4的機率
  CorrectAnswer: mean(abs(X.sample - mu) < 4.4)
  AnswerTests: omnitest(correctVal = mean(abs(X.sample - mu) < 4.4))

- Class: text
  Output: |
    這裡除了寫程式去數個數之外，還有一個很方便的寫法。如果我們
    輸入`abs(X.sample - mu) < 4.4`，就可以取得一個布林向量。
    其中TRUE是代表符合條件：「與mu的距離小於4.4」的元素，
    FALSE代表不符合的元素。

- Class: text
  Output: |
    如果我們將布林向量輸入mean的第一個參數，就可以取得發生TRUE的比率。
    這是因為mean(x) = sum(x) / length(x)，而當x是布林向量時，x就會
    被轉換成由1與0構成的數值向量。TRUE變成1, FALSE變成0。此時sum(x)
    就變成TRUE的個數，所以sum(x) / length(x)就變成TRUE發生的比率。

- Class: cmd_question
  Output: |
    請同學用`X.sample`來估計X.sample與mu的距離小於8.8的機率
  CorrectAnswer: mean(abs(X.sample - mu) < 8.8)
  AnswerTests: omnitest(correctVal = mean(abs(X.sample - mu) < 8.8))

- Class: cmd_question
  Output: |
    請同學用`X.sample`來估計X.sample與mu的距離小於13.2的機率
  CorrectAnswer: mean(abs(X.sample - mu) < 13.2)
  AnswerTests: omnitest(correctVal = mean(abs(X.sample - mu) < 13.2))

- Class: text
  Output: |
    以下的問題對應到投影片的練習四之四

- Class: cmd_question
  Output: X表示抽出某位金門縣縣民的年齡。請問X可能的值為何？
    答案請由小到大排列
  CorrectAnswer: unique(population.Kinmen)
  AnswerTests: val_is(unique(population.Kinmen))

- Class: cmd_question
  Output: g表示四捨五入至十位數。請問g(X)可能的值為何？答案請
    由小到大排列
  CorrectAnswer: unique(round(0:100, -2))
  AnswerTests: val_is(unique(round(0:100, -2)))

- Class: script
  Output: |
    這題是為了習題四之五的計算做準備。
  Script: rstatistics-04-05.R
  AnswerTests: rstatistics_04_05()

- Class: cmd_question
  Output: |
    請同學利用X1.sample估計X1和mu(全金門縣縣民的平均年齡)的偏差
  CorrectAnswer: mean(X1.sample - mu)
  AnswerTests: omnitest(correctVal = mean(X1.sample - mu))

- Class: cmd_question
  Output: |
    請同學利用X1.sample估計X1的變異數
  CorrectAnswer: var(X1.sample)
  AnswerTests: omnitest(correctVal = var(X1.sample))

- Class: cmd_question
  Output: |
    請同學利用X2.sample估計X2和mu(全金門縣縣民的平均年齡)的偏差
  CorrectAnswer: mean(X2.sample - mu)
  AnswerTests: omnitest(correctVal = mean(X2.sample - mu))

- Class: cmd_question
  Output: |
    請同學利用X2.sample估計X2的變異數
  CorrectAnswer: var(X2.sample)
  AnswerTests: omnitest(correctVal = var(X2.sample))

- Class: cmd_question
  Output: |
    請同學利用X3.sample估計X3和mu(全金門縣縣民的平均年齡)的偏差
  CorrectAnswer: mean(X3.sample - mu)
  AnswerTests: omnitest(correctVal = mean(X3.sample - mu))

- Class: cmd_question
  Output: |
    請同學利用X3.sample估計X3的變異數
  CorrectAnswer: var(X3.sample)
  AnswerTests: omnitest(correctVal = var(X3.sample))

- Class: cmd_question
  Output: |
    請問同學，哪一個方法的偏差最接近0？請輸入字串"X1", "X2"或"X3"
    作答
  CorrectAnswer: c("X1", "X2", "X3")[which.min(abs(c(mean(X1.sample), mean(X2.sample), mean(X3.sample)) - mu))]
  AnswerTests: omnitest(correctVal = c("X1", "X2", "X3")[which.min(abs(c(mean(X1.sample), mean(X2.sample), mean(X3.sample)) - mu))])

- Class: cmd_question
  Output: |
    請問同學，哪一個方法的變異數最小？請輸入字串"X1", "X2"或"X3"
    作答
  CorrectAnswer: c("X1", "X2", "X3")[which.min(c(var(X1.sample), var(X2.sample), var(X3.sample)))]
  AnswerTests: omnitest(correctVal = c("X1", "X2", "X3")[which.min(c(var(X1.sample), var(X2.sample), var(X3.sample)))])

- Class: text
  Output: |
    許多研究者會使用Mean Squared Error(MSE)來比較方法的準確度。
    理論可以證明：MSE 是「偏差的平方」加上「變異數」，可以同時
    量化偏差和變異數。

- Class: cmd_question
  Output: 請同學用X1.sample估計X1的MSE
  CorrectAnswer: mean(X1.sample - mu)^2 + var(X1.sample)
  AnswerTests: omnitest(correctVal = mean(X1.sample - mu)^2 + var(X1.sample))

- Class: cmd_question
  Output: 請同學用X2.sample估計X2的MSE
  CorrectAnswer: mean(X2.sample - mu)^2 + var(X2.sample)
  AnswerTests: omnitest(correctVal = mean(X2.sample - mu)^2 + var(X2.sample))

- Class: cmd_question
  Output: 請同學用X3.sample估計X3的MSE
  CorrectAnswer: mean(X3.sample - mu)^2 + var(X3.sample)
  AnswerTests: omnitest(correctVal = mean(X3.sample - mu)^2 + var(X3.sample))

- Class: cmd_question
  Output: |
    請問同學，哪一個方法的MSE最小？請輸入字串"X1", "X2"或"X3"
    作答
  CorrectAnswer: |
    c("X1", "X2", "X3")[which.min(c(
      mean(X1.sample - mu)^2 + var(X1.sample),
      mean(X2.sample - mu)^2 + var(X2.sample),
      mean(X3.sample - mu)^2 + var(X3.sample)
      ))]
  AnswerTests: |
    omnitest(correctVal = c("X1", "X2", "X3")[which.min(c(
      mean(X1.sample - mu)^2 + var(X1.sample),
      mean(X2.sample - mu)^2 + var(X2.sample),
      mean(X3.sample - mu)^2 + var(X3.sample)
      ))])

- Class: script
  Output: |
    這題是為了習題四之六的計算做準備。
  Script: rstatistics-04-06.R
  AnswerTests: rstatistics_04_06()

- Class: cmd_question
  Output: |
    請同學利用X1.sample估計X1的變異數
  CorrectAnswer: var(X1.sample)
  AnswerTests: omnitest(correctVal = var(X1.sample))

- Class: cmd_question
  Output: |
    請同學利用X2.sample估計X2和mu(全金門縣縣民的平均年齡)的偏差
  CorrectAnswer: mean(X2.sample - mu)
  AnswerTests: omnitest(correctVal = mean(X2.sample - mu))

- Class: cmd_question
  Output: |
    請同學利用X2.sample估計X2的變異數
  CorrectAnswer: var(X2.sample)
  AnswerTests: omnitest(correctVal = var(X2.sample))

- Class: cmd_question
  Output: |
    請同學利用X3.sample估計X3和mu(全金門縣縣民的平均年齡)的偏差
  CorrectAnswer: mean(X3.sample - mu)
  AnswerTests: omnitest(correctVal = mean(X3.sample - mu))

- Class: cmd_question
  Output: |
    請同學利用X3.sample估計X3的變異數
  CorrectAnswer: var(X3.sample)
  AnswerTests: omnitest(correctVal = var(X3.sample))

- Class: cmd_question
  Output: |
    請問同學，哪一個方法的偏差最接近0？請輸入字串"X1", "X2"或"X3"
    作答
  CorrectAnswer: c("X1", "X2", "X3")[which.min(abs(c(mean(X1.sample), mean(X2.sample), mean(X3.sample)) - mu))]
  AnswerTests: omnitest(correctVal = c("X1", "X2", "X3")[which.min(abs(c(mean(X1.sample), mean(X2.sample), mean(X3.sample)) - mu))])

- Class: cmd_question
  Output: |
    請問同學，哪一個方法的變異數最小？請輸入字串"X1", "X2"或"X3"
    作答
  CorrectAnswer: c("X1", "X2", "X3")[which.min(c(var(X1.sample), var(X2.sample), var(X3.sample)))]
  AnswerTests: omnitest(correctVal = c("X1", "X2", "X3")[which.min(c(var(X1.sample), var(X2.sample), var(X3.sample)))])

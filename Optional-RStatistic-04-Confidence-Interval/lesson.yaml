- Class: meta
  Course: DataScienceAndR
  Lesson: Optional-RStatistic-04-Confidence-Interval
  Author: Wush Wu
  Type: Standard
  Organization: Taiwan R User Group
  Version: 2.3.1.2
- Class: text
  Output: |
    以下的內容是為了練習六之一
- Class: text
  Output: |
    由於信賴區間的計算比較複雜，我們之前寫程式跑模擬的方法
    不適用，所以這裡介紹大家一個套件：binom，他很適合計算
    各種機率的信賴區間
- Class: cmd_question
  Output: 請同學安裝套件binom
  CorrectAnswer: check_then_install("binom", "1.1.1")
  AnswerTests: test_package_version("binom", "1.1.1")
  Hint: check_then_install("binom", "1.1.1")
- Class: cmd_question
  Output: 請同學載入套件binom
  CorrectAnswer: library(binom)
  AnswerTests: test_search_path("binom")
  Hint: library(binom)
- Class: cmd_question
  Output: |
    請同學輸入：`?binom.confint`打開計算信賴區間的說明
  CorrectAnswer: ?binom.confint
  AnswerTests: omnitest('?binom.confint')
  Hint: ?binom.confint
- Class: text
  Output: |
    binom.confint的重要參數有四個。
    `x`代表的是事件發生的次數；`n`代表的是實驗的次數；
    `conf.level`代表信心水準；而`methods`代表逼近信賴區間的統計方法。
- Class: cmd_question
  Output: |
    請同學利用`binom.confint`計算以下三間廣告商，在95%信心水準
    之下轉換率的信賴區間：
    網路廣告商A 在1000個點擊中，帶來10個轉換；
    網路廣告商B 在1000個點擊中，帶來11個轉換；
    網路廣告商C 在10000個點擊中，帶來70個轉換。
    `methods`參數使用"exact"(Pearson-Klopper method)
    你的答案應該是：`df <- binom.confint(x = c(??, ??, ??), n = c(??, ??, ??), methods = "exact")
  CorrectAnswer: df <- binom.confint(x = c(10, 11, 70), n = c(1000, 1000, 10000),
    methods = "exact")
  AnswerTests: omnitest('df <- binom.confint(x = c(10, 11, 70), n = c(1000, 1000,
    10000), methods = "exact")')
  Hint: df <- binom.confint(x = c(10, 11, 70), n = c(1000, 1000, 10000), methods =
    "exact")
- Class: cmd_question
  Output: |
    我們來看一下`binom.confint`的輸出。請同學輸入：`df`
  CorrectAnswer: df
  AnswerTests: omnitest('df')
  Hint: df
- Class: cmd_question
  Output: |
    df的每個列，代表每個實驗結果，也就是依序對應到廣告商A、B和C的結果。
    `mean`欄位代表事件機率（也就是轉換率），而lower與upper代表轉換率的信賴區間。
    信賴區間很適合用圖形來比較，所以我提供了`confint.plot`這個函數做範例，
    使用`ggplot2`視覺化實驗結果。請同學先檢查有無安裝ggplot2套件。請輸入：skip()
  CorrectAnswer: check_then_install("ggplot2", "2.0.0")
  AnswerTests: test_package_version("ggplot2", "2.0.0")
  Hint: check_then_install("ggplot2", "2.0.0")
- Class: cmd_question
  Output: |
    請同學載入ggplot2
  CorrectAnswer: library(ggplot2)
  AnswerTests: test_search_path("ggplot2")
  Hint: library(ggplot2)
- Class: cmd_question
  Output: |
    請同學先輸入：`confint.plot(df)`
  CorrectAnswer: confint.plot(df)
  AnswerTests: omnitest('confint.plot(df)')
  Hint: confint.plot(df)
- Class: text
  Output: |
    當我們在比較機率事件時，視覺化比較好的做法，是適當的加上信賴區間
    可以告訴我們很多額外資訊，例如：樣本數夠不夠（信賴區間的寬度）
    當樣本數越大，結果越可靠，信賴區間就會越短。
- Class: text
  Output: |
    信賴區間也可以讓我們對比較的結果評估信心。
    一個不嚴謹且偏向保守的做法，是比較實驗間的信賴區間有無重疊。
    如果有重疊的話，表示結果沒有明顯區別，實驗沒有答案。如果完全
    沒有重疊，則我們就會對比較的結果很有信心。
- Class: cmd_question
  Output: |-
    請同學輸入：`confint.plot`看看我是如何用ggplot2繪製信賴區間。
    關於ggplot2的解說，請參考RVisualization-03
  CorrectAnswer: confint.plot
  AnswerTests: omnitest('confint.plot')
  Hint: confint.plot

